{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst validator = require(\"validator\");\n\nconst context_items_1 = require(\"../context-items\");\n\nclass ValidatorsImpl {\n  constructor(builder, chain) {\n    this.builder = builder;\n    this.chain = chain;\n    this.negateNext = false;\n  }\n\n  addItem(item) {\n    this.builder.addItem(item);\n    this.lastValidator = item; // Reset this.negateNext so that next validation isn't negated too\n\n    this.negateNext = false;\n    return this.chain;\n  } // validation manipulation\n\n\n  not() {\n    this.negateNext = true;\n    return this.chain;\n  }\n\n  withMessage(message) {\n    this.lastValidator.message = message;\n    return this.chain;\n  } // custom validators\n\n\n  custom(validator) {\n    return this.addItem(new context_items_1.CustomValidation(validator, this.negateNext));\n  }\n\n  exists(options = {}) {\n    let validator;\n\n    if (options.checkFalsy) {\n      validator = value => !!value;\n    } else if (options.checkNull) {\n      validator = value => value != null;\n    } else {\n      validator = value => value !== undefined;\n    }\n\n    return this.custom(validator);\n  }\n\n  isArray() {\n    return this.custom(value => Array.isArray(value));\n  }\n\n  isString() {\n    return this.custom(value => typeof value === 'string');\n  } // Standard validators\n\n\n  addStandardValidation(validator, ...options) {\n    return this.addItem(new context_items_1.StandardValidation(validator, this.negateNext, options));\n  }\n\n  contains(elem) {\n    return this.addStandardValidation(validator.contains, elem);\n  }\n\n  equals(comparison) {\n    return this.addStandardValidation(validator.equals, comparison);\n  }\n\n  isAfter(date) {\n    return this.addStandardValidation(validator.isAfter, date);\n  }\n\n  isAlpha(locale) {\n    return this.addStandardValidation(validator.isAlpha, locale);\n  }\n\n  isAlphanumeric(locale) {\n    return this.addStandardValidation(validator.isAlphanumeric, locale);\n  }\n\n  isAscii() {\n    return this.addStandardValidation(validator.isAscii);\n  }\n\n  isBase32() {\n    return this.addStandardValidation(validator.isBase32);\n  }\n\n  isBase64() {\n    return this.addStandardValidation(validator.isBase64);\n  }\n\n  isBefore(date) {\n    return this.addStandardValidation(validator.isBefore, date);\n  }\n\n  isBoolean() {\n    return this.addStandardValidation(validator.isBoolean);\n  }\n\n  isByteLength(options) {\n    return this.addStandardValidation(validator.isByteLength, options);\n  }\n\n  isCreditCard() {\n    return this.addStandardValidation(validator.isCreditCard);\n  }\n\n  isCurrency(options) {\n    return this.addStandardValidation(validator.isCurrency, options);\n  }\n\n  isDataURI() {\n    return this.addStandardValidation(validator.isDataURI);\n  }\n\n  isDecimal(options) {\n    return this.addStandardValidation(validator.isDecimal, options);\n  }\n\n  isDivisibleBy(number) {\n    return this.addStandardValidation(validator.isDivisibleBy, number);\n  }\n\n  isEmail(options) {\n    return this.addStandardValidation(validator.isEmail, options);\n  }\n\n  isEmpty(options) {\n    return this.addStandardValidation(validator.isEmpty, options);\n  }\n\n  isFQDN(options) {\n    return this.addStandardValidation(validator.isFQDN, options);\n  }\n\n  isFloat(options) {\n    return this.addStandardValidation(validator.isFloat, options);\n  }\n\n  isFullWidth() {\n    return this.addStandardValidation(validator.isFullWidth);\n  }\n\n  isHalfWidth() {\n    return this.addStandardValidation(validator.isHalfWidth);\n  }\n\n  isHash(algorithm) {\n    return this.addStandardValidation(validator.isHash, algorithm);\n  }\n\n  isHexColor() {\n    return this.addStandardValidation(validator.isHexColor);\n  }\n\n  isHexadecimal() {\n    return this.addStandardValidation(validator.isHexadecimal);\n  }\n\n  isIdentityCard(locale) {\n    return this.addStandardValidation(validator.isIdentityCard, locale);\n  }\n\n  isIP(version) {\n    return this.addStandardValidation(validator.isIP, version);\n  }\n\n  isIPRange() {\n    return this.addStandardValidation(validator.isIPRange);\n  }\n\n  isISBN(version) {\n    return this.addStandardValidation(validator.isISBN, version);\n  }\n\n  isISSN(options) {\n    return this.addStandardValidation(validator.isISSN, options);\n  }\n\n  isISIN() {\n    return this.addStandardValidation(validator.isISIN);\n  }\n\n  isISO8601(options) {\n    return this.addStandardValidation(validator.isISO8601, options);\n  }\n\n  isISO31661Alpha2() {\n    return this.addStandardValidation(validator.isISO31661Alpha2);\n  }\n\n  isISO31661Alpha3() {\n    return this.addStandardValidation(validator.isISO31661Alpha3);\n  }\n\n  isISRC() {\n    return this.addStandardValidation(validator.isISRC);\n  }\n\n  isIn(values) {\n    return this.addStandardValidation(validator.isIn, values);\n  }\n\n  isInt(options) {\n    return this.addStandardValidation(validator.isInt, options);\n  }\n\n  isJSON() {\n    return this.addStandardValidation(validator.isJSON);\n  }\n\n  isJWT() {\n    return this.addStandardValidation(validator.isJWT);\n  }\n\n  isLatLong() {\n    return this.addStandardValidation(validator.isLatLong);\n  }\n\n  isLength(options) {\n    return this.addStandardValidation(validator.isLength, options);\n  }\n\n  isLowercase() {\n    return this.addStandardValidation(validator.isLowercase);\n  }\n\n  isMagnetURI() {\n    return this.addStandardValidation(validator.isMagnetURI);\n  }\n\n  isMACAddress(options) {\n    return this.addStandardValidation(validator.isMACAddress, options);\n  }\n\n  isMD5() {\n    return this.addStandardValidation(validator.isMD5);\n  }\n\n  isMimeType() {\n    return this.addStandardValidation(validator.isMimeType);\n  }\n\n  isMobilePhone(locale, options) {\n    return this.addStandardValidation(validator.isMobilePhone, locale, options);\n  }\n\n  isMongoId() {\n    return this.addStandardValidation(validator.isMongoId);\n  }\n\n  isMultibyte() {\n    return this.addStandardValidation(validator.isMultibyte);\n  }\n\n  isNumeric(options) {\n    return this.addStandardValidation(validator.isNumeric, options);\n  }\n\n  isPort() {\n    return this.addStandardValidation(validator.isPort);\n  }\n\n  isPostalCode(locale) {\n    return this.addStandardValidation(validator.isPostalCode, locale);\n  }\n\n  isRFC3339() {\n    return this.addStandardValidation(validator.isRFC3339);\n  }\n\n  isSurrogatePair() {\n    return this.addStandardValidation(validator.isSurrogatePair);\n  }\n\n  isURL(options) {\n    return this.addStandardValidation(validator.isURL, options);\n  }\n\n  isUUID(version) {\n    return this.addStandardValidation(validator.isUUID, version);\n  }\n\n  isUppercase() {\n    return this.addStandardValidation(validator.isUppercase);\n  }\n\n  isVariableWidth() {\n    return this.addStandardValidation(validator.isVariableWidth);\n  }\n\n  isWhitelisted(chars) {\n    return this.addStandardValidation(validator.isWhitelisted, chars);\n  }\n\n  matches(pattern, modifiers) {\n    return this.addStandardValidation(validator.matches, pattern, modifiers);\n  }\n\n}\n\nexports.ValidatorsImpl = ValidatorsImpl;","map":null,"metadata":{},"sourceType":"script"}