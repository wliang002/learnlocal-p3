{"ast":null,"code":"const express = require('express');\n\nconst connectDB = require('./config/db');\n\nconst path = require('path');\n\nconst app = express(); // Connect to database\n\nconnectDB(); // Init Middleware\n\napp.use(express.json({\n  extended: false\n})); // Define Routes\n\napp.use('/api/users', require('./routes/api/users'));\napp.use('/api/auth', require('./routes/api/auth'));\napp.use('/api/profile', require('./routes/api/profile')); // serve static assets in production\n\nif (process.env.NODE_ENV === 'production') {\n  // set static folder\n  app.use(express.static('client/build'));\n  app.get('*', (req, res) => {\n    res.sendFile(path.resolve(__dirname, 'client', 'build', 'index.html'));\n  });\n}\n\nconst PORT = process.env.PORT || 5000;\napp.listen(PORT, () => console.log(\"Server started on port \".concat(PORT)));","map":null,"metadata":{},"sourceType":"script"}