{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst context_items_1 = require(\"../context-items\");\n\nclass ContextHandlerImpl {\n  constructor(builder, chain) {\n    this.builder = builder;\n    this.chain = chain;\n  }\n\n  if(condition) {\n    if ('run' in condition) {\n      this.builder.addItem(new context_items_1.ChainCondition(condition));\n    } else if (typeof condition === 'function') {\n      this.builder.addItem(new context_items_1.CustomCondition(condition));\n    } else {\n      throw new Error('express-validator: condition is not a validation chain nor a function');\n    }\n\n    return this.chain;\n  }\n\n  optional(options = true) {\n    if (typeof options === 'boolean') {\n      this.builder.setOptional(options ? {\n        checkFalsy: false,\n        nullable: false\n      } : false);\n    } else {\n      this.builder.setOptional({\n        checkFalsy: !!options.checkFalsy,\n        nullable: !!options.nullable\n      });\n    }\n\n    return this.chain;\n  }\n\n}\n\nexports.ContextHandlerImpl = ContextHandlerImpl;","map":null,"metadata":{},"sourceType":"script"}